_target_: data.robmimic_data_dagger.DAggerRobomimicData
name: rm_lift_latent_img64_dagger_data

# 基础设置
batch_size: ${batch_size}
n_workers: ${n_workers}
obs_horizon: ${obs_horizon}
prefetch_factor: 2
seq_length: ${horizon}

# 专家数据路径 (ph = perfect human)
train_path: /home/gordon/latentdiff/latent_diffusion_planning/robomimic/datasets/lift/ph/image.hdf5
eval_path: /home/gordon/latentdiff/latent_diffusion_planning/robomimic/datasets/lift/ph/image.hdf5
train_latent_path: /home/gordon/latentdiff/latent_diffusion_planning/experiments/test(expert50)/test/latent.hdf5
eval_latent_path: /home/gordon/latentdiff/latent_diffusion_planning/experiments/test(expert50)/test/latent.hdf5
# Suboptimal 数据路径 (mh = medium human 或其他低质量数据)
suboptimal_train_path: /media/gordon/usbg/lift.hdf5
suboptimal_train_latent_path: /home/gordon/latentdiff/latent_diffusion_planning/experiments/test/test/latent.hdf5  # 需要为 suboptimal 数据生成潜在表示

# 数据集大小
train_n_episode_overfit: 50    # 专家数据使用50个episodes
eval_n_episode_overfit: 50     # 评估数据
#suboptimal_n_episodes: 150     # suboptimal数据有150个可用于重标注

# 元数据配置（与原配置相同）
meta:
  lowdim_obs: [robot0_eef_pos, robot0_eef_quat, robot0_gripper_qpos]
  rgb_obs: [latent_agentview_image]
  rgb_viz: agentview_image
  shape_meta:
    ac_dim: 7
    all_shapes:
      robot0_eef_pos: [3]
      robot0_eef_quat: [4]
      robot0_eye_in_hand_image: [64, 64, 3]
      agentview_image: [64, 64, 3]
      robot0_gripper_qpos: [2]
      optimal: [1]
      latent_agentview_image: [16]  # 假设潜在维度是16，根据实际调整
    use_images: True
  obs_normalization:
    obs:
      object:
        min: [-0.05, -0.039, 0.732, -0.093, -0.1, -0.037, -1.1, -0.189, -0.05 , -0.013]
        max: [0.038, 0.055, 0.975, 0.073, 0.063, 1.1, 1.1, 0.046, 0.058, 0.235]
      robot0_eef_pos:
        min: [-0.162, -0.05, 0.728]
        max: [0.068, 0.058, 1.141]
      robot0_eef_quat:
        min: [0.847, -0.283, -0.025, -0.065]
        max: [1.1, 0.364, 0.178, 0.05]
      robot0_gripper_qpos:
        min: [0.013, -0.044]
        max: [0.044, -0.016]
      agentview_image:
        min: 0
        max: 255
      robot0_eye_in_hand_image:
        min: 0
        max: 255
      latent_agentview_image:
        min: -10
        max: 10
      latent_robot0_eye_in_hand_image:
        min: -7
        max: 7
    actions:
      clip_min: -1
      clip_max: 1

# 环境参数
env_params:
  obs_horizon: ${obs_horizon}
  rgb_viz: ${data.meta.rgb_viz}
  env_kwargs:
    lowdim_obs: ${data.meta.lowdim_obs}
    rgb_obs: ${data.meta.rgb_obs}
    render: false
    render_offscreen: true
    horizon: 400
